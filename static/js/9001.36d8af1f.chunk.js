"use strict";(self.webpackChunklicencenow=self.webpackChunklicencenow||[]).push([[9001],{89001:(e,s,r)=>{r.r(s),r.d(s,{default:()=>w});var a=r(65043),i=r(53519),t=r(61072),o=r(78602),l=r(3233),n=r(33975),c=r(73216),m=r(35475),d=r(46978),g=r(26917),u=r(30064),h=r.n(u),p=r(8729),x=r(13892),f=r(80899),j=r(70579);const w=function(){const e=(0,c.Zp)(),{setRole:s,setUserData:r,setToken:u,setInstructor:w}=(0,p.A)(),[N,v]=a.useState(!1),[T,b]=(0,a.useState)(null);(0,a.useEffect)((()=>{sessionStorage.getItem("authToken")&&e("/learner/learner-profile")}),[e]);const S=f.Ik({email:f.Yj().email("Please enter a valid email address.").required("Email is required."),password:f.Yj().required("Password is required."),agreeToTerms:f.lc().oneOf([!0],"You must agree to the terms and conditions.").required("Agreement is required.")});return(0,j.jsx)(i.A,{children:(0,j.jsx)(t.A,{children:(0,j.jsx)(o.A,{lg:12,children:(0,j.jsxs)("div",{className:"LoginFormWrp d-flex",children:[(0,j.jsxs)("div",{className:"LoginFormWrp__left",children:[(0,j.jsx)("img",{src:l,alt:"Login Side"}),(0,j.jsx)("div",{className:"LoginFormWrp__logo",children:(0,j.jsx)("img",{src:n.A,alt:"logo"})})]}),(0,j.jsxs)("div",{className:"LoginFormWrp__right",children:[(0,j.jsx)("h2",{children:"Learner Login"}),(0,j.jsx)(x.l1,{initialValues:{email:"",password:"",agreeToTerms:!1},validationSchema:S,onSubmit:async a=>{v(!0);const{email:i,password:t,agreeToTerms:o}=a;try{const a=await(0,d.$P)(g.A.LEARNER_LOGIN,{email:i,password:t});if(!a.success)throw new Error(a);sessionStorage.setItem("authToken",a.data.token),sessionStorage.setItem("userDetails",JSON.stringify(a.data.userDetails)),sessionStorage.setItem("instructor",JSON.stringify(a.data.instructor)),sessionStorage.setItem("role","learner"),sessionStorage.setItem("profileImg",a.data.userDetails.profile_picture),sessionStorage.setItem("profileName",a.data.userDetails.first_name),s("learner"),u(a.data.token),r(a.data.userDetails),w(a.data.instructor),h().fire({icon:"success",title:"Welcome!",text:`Welcome, ${a.data.userDetails.first_name}!`,confirmButtonText:"Okay"}).then((s=>{e("/learner/dashboard")}))}catch(T){const s=null===T||void 0===T?void 0:T.message;b(s),h().fire({icon:"error",title:"Login Failed",text:s,confirmButtonText:"Try Again"})}finally{v(!1)}},children:e=>{let{isSubmitting:s}=e;return(0,j.jsxs)(x.lV,{className:"LoginFormWrp__form d-flex flex-column",children:[(0,j.jsxs)("div",{className:"form-group",children:[(0,j.jsx)("label",{htmlFor:"email",children:"* Your Email"}),(0,j.jsx)(x.D0,{type:"email",id:"email",name:"email",className:"form-control",placeholder:"Enter your email..."}),(0,j.jsx)(x.Kw,{name:"email",component:"div",className:"error-message"})]}),(0,j.jsxs)("div",{className:"form-group",children:[(0,j.jsx)("label",{htmlFor:"password",children:"* Your Password"}),(0,j.jsx)(x.D0,{type:"password",id:"password",name:"password",className:"form-control",placeholder:"Enter your password..."}),(0,j.jsx)(x.Kw,{name:"password",component:"div",className:"error-message"})]}),(0,j.jsxs)("div",{className:"form-group",children:[(0,j.jsxs)("label",{className:"d-flex align-items-start gap-2",children:[(0,j.jsx)(x.D0,{type:"checkbox",id:"agreeToTerms",name:"agreeToTerms"}),(0,j.jsx)("div",{className:"CheckboxHighlight"}),(0,j.jsxs)("p",{children:["I agree to the"," ",(0,j.jsx)(m.N_,{to:"/instructor-terms",children:"terms and conditions"})]})]}),(0,j.jsx)(x.Kw,{name:"agreeToTerms",component:"div",className:"error-message"})]}),(0,j.jsx)("div",{className:"d-flex flex-column gap-3 LoginFormWrp__btnWrp",children:(0,j.jsx)("button",{type:"submit",className:"btn btn-white has-hover-blue",disabled:s||N,children:N?"Logging in...":"Login >"})})]})}}),(0,j.jsxs)("div",{className:"",children:["Forgot Password?",(0,j.jsx)(m.N_,{to:"/learner-forget-password",children:" click here.."})]})]})]})})})})}},3233:(e,s,r)=>{e.exports=r.p+"static/media/loginSide.e65e72656fea30affec7.png"}}]);
//# sourceMappingURL=9001.36d8af1f.chunk.js.map
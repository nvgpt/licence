"use strict";(self.webpackChunklicencenow=self.webpackChunklicencenow||[]).push([[1499],{83509:(e,s,n)=>{n.d(s,{A:()=>i});n(65043);const i=n.p+"static/media/next.237933fae9eae7a0d3b2f2cfbbd2f665.svg"},50986:(e,s,n)=>{n.d(s,{A:()=>i});n(65043);const i=n.p+"static/media/placeholderImg.ff52ef0be22bceedde06b99886839af4.svg"},6954:(e,s,n)=>{n.d(s,{A:()=>i});n(65043);const i=n.p+"static/media/prev.63fea5887462fdca5f65acdb92e9963e.svg"},5934:(e,s,n)=>{n.d(s,{A:()=>d});n(65043);var i=n(73216),a=n(35475),l=n(52943),r=n(70579);function d(){const e=(0,i.zy)().pathname.split("/").filter(Boolean);e[0];"learner-list-details"===e[1]&&e.length>2&&(e[1]="learner-list",e.pop());const s=e.filter((e=>"instructor"!==e)).map(((e,s)=>"dashboard"===e&&0===s?null:e)).filter(Boolean),n=s[s.length-2],d=s[s.length-1];return(0,r.jsx)("div",{className:"breadcrumb",children:(0,r.jsxs)("p",{children:[s.length>0&&(0,r.jsx)(a.N_,{to:"/instructor/dashboard",children:(0,r.jsx)("img",{src:l.A,alt:"Home"})}),n&&(0,r.jsxs)("span",{children:["> \xa0",(0,r.jsxs)(a.N_,{to:`/instructor/${n}`,children:[n.replace(/-/g," ")," "]})]}),d&&(0,r.jsxs)("span",{children:["> \xa0",d.replace(/-/g," ")," "]})]})})}},1499:(e,s,n)=>{n.r(s),n.d(s,{default:()=>_});var i=n(65043),a=n(5934),l=n(53519),r=n(61072),d=n(78602),t=n(64196),c=n(50986),o=n(6954),h=n(83509),x=n(46978),v=n(26917),j=n(8729),m=n(73216),u=n(35475),p=n(70579);const g=e=>e.includes("canceled")?"text-red":e.includes("confirmed")?"text-green":"text-secondary";function _(){var e,s,n,_;const[b,f]=(0,i.useState)(!1),[N,y]=(0,i.useState)({}),[A,$]=(0,i.useState)({}),{token:k}=(0,j.A)(),[w,S]=(0,i.useState)([]),[C,I]=(0,i.useState)([]),[B,L]=(0,i.useState)(1),T=e=>{L(e)};(0,m.Zp)();return(0,i.useEffect)((()=>{(async()=>{f(!0);try{const e=(0,x.f)(k),s=await e.get(`${v.A.BOOKING_LIST}?status=history`),n=await s.data;n.success&&n.data?(f(!1),S(n.data)):console.error("Unexpected response format:",n)}catch(e){console.error("Error fetching pricing data:",e)}finally{f(!1)}})();(async()=>{f(!0);try{const e=(0,x.f)(k),s=await e.get(`${v.A.BOOKING_LIST}?status=pending`),n=await s.data;n.success&&n.data?(f(!1),I(n.data)):console.error("Unexpected response format:",n)}catch(e){console.error("Error fetching pricing data:",e)}finally{f(!1)}})();(async()=>{f(!0);try{const e=(0,x.f)(k),s=await e.get(v.A.TRAINER_DASHBOARD),n=await s.data;n.success&&n.data?(f(!1),y(n.data.user_rating),$(n.data.fortnight_payouts)):console.error("Unexpected response format:",n)}catch(e){console.error("Error fetching pricing data:",e)}finally{f(!1)}})()}),[]),(0,p.jsx)("div",{children:(0,p.jsxs)("div",{className:"mainContent",children:[(0,p.jsx)(a.A,{}),(0,p.jsx)("div",{className:"mainContent__assets",children:(0,p.jsx)(l.A,{children:(0,p.jsx)(r.A,{children:(0,p.jsxs)(d.A,{lg:12,children:[(0,p.jsxs)("div",{className:"accordians mb-5",children:[(0,p.jsx)("div",{className:"secIntro ",children:(0,p.jsx)("div",{className:"secIntro__left",children:(0,p.jsx)("h2",{children:"Payments"})})}),(0,p.jsxs)("div",{className:"accordians__card",children:[(0,p.jsxs)("div",{className:"accordians__top",children:[(0,p.jsx)("h4",{children:"Unauthorised Payments"}),(0,p.jsx)(u.N_,{to:"/dashboard/booking-history",className:"btn btn-teal invisible",children:"View All"})]}),(0,p.jsx)("div",{className:"accordians__description",children:(0,p.jsxs)(t.A,{children:[(0,p.jsx)("thead",{children:(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{children:"Booking"}),(0,p.jsx)("th",{children:"Learner"}),(0,p.jsx)("th",{children:"Date"}),(0,p.jsx)("th",{children:"Time"}),(0,p.jsx)("th",{children:"Location"}),(0,p.jsx)("th",{children:"Status"})]})}),(0,p.jsx)("tbody",{children:b?(0,p.jsx)("tr",{children:(0,p.jsx)("td",{children:"Loading..."})}):C.length>0?C.map(((e,s)=>{var n,i,a,l,r,d,t,o,h;return(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:e.bookingNumber}),(0,p.jsxs)("td",{children:[(0,p.jsx)("img",{src:(null===e||void 0===e||null===(n=e.learners)||void 0===n?void 0:n.profile_picture)||c.A,alt:"profile",className:"rounded-circle mr-2"})," ",(0,p.jsx)("span",{className:"str-reduce",children:1===(null===e||void 0===e||null===(i=e.learners)||void 0===i?void 0:i.myself)?`${null===e||void 0===e||null===(a=e.learners)||void 0===a?void 0:a.first_name} ${null===e||void 0===e||null===(l=e.learners)||void 0===l?void 0:l.last_name}`:`${null===e||void 0===e||null===(r=e.learners)||void 0===r?void 0:r.learner_first_name} ${null===e||void 0===e||null===(d=e.learners)||void 0===d?void 0:d.learner_last_name}`})]}),(0,p.jsx)("td",{children:null===e||void 0===e||null===(t=e.lesson_details)||void 0===t?void 0:t.lesson_date}),(0,p.jsx)("td",{children:null===e||void 0===e||null===(o=e.lesson_details)||void 0===o?void 0:o.lesson_time}),(0,p.jsx)("td",{children:null===e||void 0===e||null===(h=e.learners)||void 0===h?void 0:h.address}),(0,p.jsx)("td",{children:(0,p.jsx)(u.N_,{className:"btn btn-teal",to:"/instructor/payments/payment-authorisation",state:{id:e.id},children:"Authorize Payment"})})]},s)})):(0,p.jsx)("tr",{children:(0,p.jsx)("td",{children:"No Data found"})})})]})})]})]}),(0,p.jsxs)("div",{className:"dashboard",children:[(0,p.jsx)("div",{className:"secIntro "}),(0,p.jsxs)("div",{className:"dashboard__wrp",children:[(0,p.jsxs)("div",{className:"dashboard__left",children:[(0,p.jsx)("div",{className:"dashboard__topTitle",children:(0,p.jsx)("p",{children:"All Time Performance"})}),(0,p.jsx)("div",{className:"dashboard__bottom",children:(0,p.jsxs)("div",{className:"dashboard__item",children:[(0,p.jsx)("span",{children:"Learner Rating"}),(0,p.jsxs)("h4",{children:[(0,p.jsx)("img",{src:N,alt:""})," 0"," ",(0,p.jsxs)("span",{children:["(",null===N||void 0===N?void 0:N.total_reviews," Reviews)"]})]})]})})]}),(0,p.jsxs)("div",{className:"dashboard__right",children:[(0,p.jsx)("div",{className:"dashboard__topTitle",style:{textAlign:"center"},children:(0,p.jsx)("p",{children:"Current Payout"})}),(0,p.jsxs)("div",{className:"dashboard__bottom",children:[(0,p.jsxs)("div",{className:"dashboard__item",children:[(0,p.jsx)("span",{children:"Earnings "}),(0,p.jsxs)("h4",{children:["$",null===A||void 0===A||null===(e=A.earnings)||void 0===e?void 0:e.amount]}),(0,p.jsxs)("p",{children:["Av. Fortnightly $",null===A||void 0===A||null===(s=A.earnings)||void 0===s?void 0:s.avg_amount]})]}),(0,p.jsxs)("div",{className:"dashboard__item",children:[(0,p.jsx)("span",{children:"Booking hours completed "}),(0,p.jsx)("h4",{children:null===A||void 0===A||null===(n=A.completed_booking)||void 0===n?void 0:n.amount}),(0,p.jsxs)("p",{children:["Av. Fortnightly ",null===A||void 0===A||null===(_=A.completed_booking)||void 0===_?void 0:_.avg_amount]})]})]})]})]})]}),(0,p.jsx)("div",{className:"accordians mt-5",children:(0,p.jsxs)("div",{className:"accordians__card",children:[(0,p.jsxs)("div",{className:"accordians__top",children:[(0,p.jsx)("h4",{children:"Booking History"}),(0,p.jsx)(u.N_,{to:"/instructor/dashboard/booking-history",className:"btn btn-teal",children:"View All"})]}),(0,p.jsxs)("div",{className:"accordians__description",children:[(0,p.jsxs)(t.A,{children:[(0,p.jsx)("thead",{children:(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{children:"Booking"}),(0,p.jsx)("th",{children:"Learner"}),(0,p.jsx)("th",{children:"Date"}),(0,p.jsx)("th",{children:"Time"}),(0,p.jsx)("th",{children:"Location"}),(0,p.jsx)("th",{children:"Status"})]})}),(0,p.jsx)("tbody",{children:b?(0,p.jsx)("tr",{children:(0,p.jsx)("td",{children:"Loading..."})}):w.length>0?w.slice(5*B-5,5*B).map(((e,s)=>{var n,i,a,l,r;return(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:e.bookingNumber}),(0,p.jsxs)("td",{children:[(0,p.jsx)("img",{src:(null===e||void 0===e||null===(n=e.instructor)||void 0===n?void 0:n.profile_image)||c.A,alt:"profile",className:"rounded-circle mr-2"})," ",null===e||void 0===e||null===(i=e.instructor)||void 0===i?void 0:i.first_name]}),(0,p.jsx)("td",{children:null===e||void 0===e||null===(a=e.lesson_details)||void 0===a?void 0:a.lesson_date}),(0,p.jsx)("td",{children:null===e||void 0===e||null===(l=e.lesson_details)||void 0===l?void 0:l.lesson_time}),(0,p.jsx)("td",{children:null===e||void 0===e||null===(r=e.learners)||void 0===r?void 0:r.address}),(0,p.jsx)("td",{className:`font-weight-bold ${g(null===e||void 0===e?void 0:e.booking_status)}`,children:(0,p.jsxs)("div",{className:"d-flex align-items-center",children:[(0,p.jsx)("div",{className:"statusIco"}),e.booking_status]})})]},s)})):(0,p.jsx)("tr",{children:(0,p.jsx)("td",{children:"No Data found"})})})]}),(0,p.jsxs)("div",{className:"pagination-container",children:[(0,p.jsx)("button",{className:"btn ",onClick:()=>{T(B-1)},style:{"pointer-events":1===B?"none":""},children:(0,p.jsx)("img",{src:o.A,alt:""})}),w.length>5?(0,p.jsx)("span",{className:1===B?"active_tab":"pagetab",onClick:()=>T(1),children:" 1 "}):"",B>3&&(0,p.jsx)("span",{className:"pagetab",children:" ... "}),[...Array(3)].map(((e,s)=>{const n=B-1+s;return n>1&&n<Math.ceil(w.length/5)&&(0,p.jsx)("span",{className:B===n?"active_tab":"",onClick:()=>T(n),children:n},n)})),B<Math.ceil(w.length/5)-2&&(0,p.jsx)("span",{className:"pagetab",children:" ... "}),(0,p.jsx)("span",{className:B===Math.ceil(w.length/5)?"active_tab":"pagetab",onClick:()=>T(Math.ceil(w.length/5)),children:Math.ceil(w.length/5)}),(0,p.jsx)("button",{className:"btn ",style:{"pointer-events":B===Math.ceil(w.length/5)?"none":""},onClick:()=>{T(B+1)},children:(0,p.jsx)("img",{src:h.A,alt:""})})]})]})]})})]})})})})]})})}},64196:(e,s,n)=>{n.d(s,{A:()=>t});var i=n(98139),a=n.n(i),l=n(65043),r=n(67852),d=n(70579);const t=l.forwardRef(((e,s)=>{let{bsPrefix:n,className:i,striped:l,bordered:t,borderless:c,hover:o,size:h,variant:x,responsive:v,...j}=e;const m=(0,r.oU)(n,"table"),u=a()(i,m,x&&`${m}-${x}`,h&&`${m}-${h}`,l&&`${m}-${"string"===typeof l?`striped-${l}`:"striped"}`,t&&`${m}-bordered`,c&&`${m}-borderless`,o&&`${m}-hover`),p=(0,d.jsx)("table",{...j,className:u,ref:s});if(v){let e=`${m}-responsive`;return"string"===typeof v&&(e=`${e}-${v}`),(0,d.jsx)("div",{className:e,children:p})}return p}))}}]);
//# sourceMappingURL=1499.b17cfe36.chunk.js.map
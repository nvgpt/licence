"use strict";(self.webpackChunklicencenow=self.webpackChunklicencenow||[]).push([[9923],{5934:(e,s,n)=>{n.d(s,{A:()=>l});n(65043);var t=n(73216),a=n(35475),i=n(52943),r=n(70579);function l(){const e=(0,t.zy)().pathname.split("/").filter(Boolean);e[0];"learner-list-details"===e[1]&&e.length>2&&(e[1]="learner-list",e.pop());const s=e.filter((e=>"instructor"!==e)).map(((e,s)=>"dashboard"===e&&0===s?null:e)).filter(Boolean),n=s[s.length-2],l=s[s.length-1];return(0,r.jsx)("div",{className:"breadcrumb",children:(0,r.jsxs)("p",{children:[s.length>0&&(0,r.jsx)(a.N_,{to:"/instructor/dashboard",children:(0,r.jsx)("img",{src:i.A,alt:"Home"})}),n&&(0,r.jsxs)("span",{children:["> \xa0",(0,r.jsxs)(a.N_,{to:`/instructor/${n}`,children:[n.replace(/-/g," ")," "]})]}),l&&(0,r.jsxs)("span",{children:["> \xa0",l.replace(/-/g," ")," "]})]})})}},79923:(e,s,n)=>{n.r(s),n.d(s,{default:()=>g});var t=n(65043),a=n(5934),i=n(53519),r=n(61072),l=n(78602);const o=n.p+"static/media/Yes.7f8d33f7eddf0b870ed521f8b7d2fbce.svg";const c=n.p+"static/media/No.b37986660c30797ad9a0c201ff20a57d.svg";var d=n(73216),h=n(86054),m=n(26917),x=n(8729),p=n(46978),u=n(30064),j=n.n(u),f=n(70579);function g(){var e;const s=(0,d.Zp)(),n=(0,d.zy)(),{token:u}=(0,x.A)(),g=(null===(e=n.state)||void 0===e?void 0:e.id)||null,[v,b]=(0,t.useState)(!1),[y,_]=(0,t.useState)({}),[N,w]=(0,t.useState)(!1),[A,C]=(0,t.useState)(!1),[P,k]=(0,t.useState)({paymentauthorize:!1,confirmAndProcess:!1}),D=e=>{C(!0),k({...P,paymentauthorize:e})};(0,t.useEffect)((()=>{(async()=>{b(!0);try{const e=(0,p.f)(u),s=await e.get(`${m.A.VIEW_PAYMENTS_DETAILS}/${g}`),n=await s.data;n.success&&n.data?(b(!1),_(n.data)):console.error("Unexpected response format:",n)}catch(e){console.error("Error fetching pricing data:",e)}finally{b(!1)}})()}),[]);return(0,f.jsxs)("div",{children:[v&&(0,f.jsx)(h.A,{}),(0,f.jsxs)("div",{className:"mainContent",children:[(0,f.jsx)(a.A,{}),(0,f.jsx)("div",{className:"mainContent__assets",children:(0,f.jsx)(i.A,{children:(0,f.jsx)(r.A,{children:(0,f.jsx)(l.A,{lg:12,children:(0,f.jsxs)("div",{className:"personalDetailsForm text-center",children:[(0,f.jsx)("h2",{children:"Payment Authorisation"}),(0,f.jsxs)("div",{className:"personalDetailsForm__wrp",children:[(0,f.jsx)("div",{className:"personalDetailsForm__top",children:(0,f.jsxs)("h4",{children:["Booking ID ",null===y||void 0===y?void 0:y.booking_number," "]})}),(0,f.jsxs)("div",{className:"PaymentAuthorisation",children:[(0,f.jsxs)("div",{className:"PaymentAuthorisation__netPay",children:[(0,f.jsx)("strong",{children:"Your Net Payment"}),(0,f.jsx)("h2",{children:null===y||void 0===y?void 0:y.net_payment}),(0,f.jsxs)("p",{children:["Bookig Credit purchased on ",null===y||void 0===y?void 0:y.purchased_on_date,", ",null===y||void 0===y?void 0:y.purchased_on_time]})]}),(0,f.jsxs)("p",{children:["Has your booking with ",(0,f.jsxs)("strong",{children:[null===y||void 0===y?void 0:y.first_name," ",null===y||void 0===y?void 0:y.last_name]}),"., scheduled for",(0,f.jsxs)("strong",{children:[" ",null===y||void 0===y?void 0:y.formatted_date,", ",null===y||void 0===y?void 0:y.formatted_time]})," been completed?"]}),(0,f.jsxs)("div",{className:"PaymentAuthorisation__btnGroup",children:[(0,f.jsxs)("div",{className:"PaymentAuthorisation__btns green",onClick:()=>{D(!0)},children:[(0,f.jsx)("img",{src:o,alt:""}),(0,f.jsxs)("div",{children:[(0,f.jsx)("strong",{children:"Yes"}),(0,f.jsx)("p",{children:"To get paid for a completed booking"})]})]}),(0,f.jsxs)("div",{className:"PaymentAuthorisation__btns red",onClick:()=>{D(!1)},children:[(0,f.jsx)("img",{src:c,alt:""}),(0,f.jsxs)("div",{children:[(0,f.jsx)("strong",{children:"No"}),(0,f.jsx)("p",{children:"To waive payment or claim cancellation fee"})]})]})]})]})]}),A&&P.paymentauthorize&&(0,f.jsx)("div",{className:"personalDetailsForm__wrp",children:(0,f.jsxs)("div",{className:"PaymentAuthorisation",children:[(0,f.jsxs)("strong",{className:"text-red mb-3 d-flex justify-content-center align-items-center gap-1",children:[(0,f.jsx)("svg",{width:"15",height:"13",viewBox:"0 0 15 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,f.jsx)("path",{d:"M1.57483 13H13.4252C14.637 13 15.3924 11.7235 14.7865 10.7069L8.86129 0.762458C8.2554 -0.254153 6.7446 -0.254153 6.13871 0.762458L0.213535 10.7069C-0.392359 11.7235 0.363041 13 1.57483 13ZM7.5 7.64942C7.06722 7.64942 6.71312 7.30545 6.71312 6.88505V5.35631C6.71312 4.93591 7.06722 4.59194 7.5 4.59194C7.93278 4.59194 8.28688 4.93591 8.28688 5.35631V6.88505C8.28688 7.30545 7.93278 7.64942 7.5 7.64942ZM8.28688 10.7069H6.71312V9.17816H8.28688V10.7069Z",fill:"#DF6B47"})}),"WARNING"]}),(0,f.jsx)("p",{children:"Claiming payment for a booking you have not delivered us a breach of Licence Now terms and conditions & may result in removal from the platfor"}),(0,f.jsx)("button",{className:"btn btn-green max-w-100 w-100 mt-4 btn-lg",onClick:()=>w(!0),children:"Confirm and Process Payment"})]})}),A&&!P.paymentauthorize&&(0,f.jsx)("div",{className:"personalDetailsForm__wrp",children:(0,f.jsxs)("div",{className:"PaymentAuthorisation",children:[(0,f.jsxs)("div",{className:"PaymentAuthorisation__netPay  border-0",children:[(0,f.jsx)("strong",{children:"Your Net Payment"}),(0,f.jsx)("h2",{children:"$56.35"}),(0,f.jsx)("p",{children:"Bookig Credit purchased on 24 Nov, 2024, 1.33PM"})]}),(0,f.jsxs)("div",{className:"PaymentAuthorisation__cancel",children:[(0,f.jsx)("h4",{children:"You can select 2 options:"}),(0,f.jsx)("div",{className:"d-flex gap-1",children:(0,f.jsxs)("label",{style:{display:"flex",fontWeight:500},children:[(0,f.jsx)("input",{type:"radio",name:"cancel",id:""}),(0,f.jsx)("span",{}),(0,f.jsxs)("p",{children:[(0,f.jsx)("strong",{children:"Charge"})," the learner & collect full payment for the booking Note: You are declaring the learner is at fault"]})]})}),(0,f.jsx)("div",{className:"d-flex gap-1",children:(0,f.jsxs)("label",{style:{display:"flex",fontWeight:500},children:[(0,f.jsx)("input",{type:"radio",name:"cancel",id:""}),(0,f.jsx)("span",{}),(0,f.jsxs)("p",{children:[(0,f.jsx)("strong",{children:"Waive"})," the the payment & return the full booking credit to the learner\u2019s account Note: This will allow the learner to instantly re-book"]})]})}),(0,f.jsx)("button",{className:"btn btn-red max-w-100 w-100 mt-4 btn-lg",onClick:()=>w(!0),children:"Confirm and Process Payment"})]})]})})]})})})})})]}),N&&(0,f.jsx)("div",{className:"popup",children:(0,f.jsx)(i.A,{children:(0,f.jsx)(r.A,{children:(0,f.jsx)(l.A,{lg:12,children:(0,f.jsxs)("div",{className:"popup__wrp personalDetailsForm__wrp",children:[(0,f.jsxs)("div",{className:"personalDetailsForm__top text-center position-relative",children:[(0,f.jsx)("h4",{children:"Are you sure?"}),(0,f.jsx)("button",{type:"button",className:"popup__close",onClick:()=>w(!1),children:" X"})]}),(0,f.jsxs)("div",{className:"personalDetailsForm__bottom",children:[(0,f.jsx)("div",{className:"RegistrationForm__field",children:(0,f.jsx)("label",{htmlFor:"confirm_model_pswd",style:{borderBottom:"1px solid #b7b7b7"},children:" Click CONFIRM to Proceed "})}),(0,f.jsxs)("div",{className:"d-flex justify-content-between gap-3",children:[(0,f.jsx)("button",{className:"btn btn-grey flex-grow-1 ",type:"submit",children:" Cancel"}),(0,f.jsx)("button",{className:"btn btn-teal flex-grow-1 ",type:"submit",onClick:()=>(async()=>{b(!0);try{const e=(0,p.f)(u),n=await e.post(`${m.A.UPDATE_PAYMENTS_DETAILS}`,{booking_id:g,booking_status:P.paymentauthorize?"confirm":"reject"}),t=await n.data;t.success&&t.data?(b(!1),w(!1),j().fire("Success!","Payment updated successfully","success").then(s(-1))):(j().fire("Error!",`${t.data.message}`,"error"),console.error("Unexpected response format:",t))}catch(e){console.error("Error fetching pricing data:",e),j().fire("Error!",`${e.response.data.message}`,"error")}finally{b(!1)}})(),children:" Confirm"})]})]})]})})})})})]})}}}]);
//# sourceMappingURL=9923.3321c3fd.chunk.js.map
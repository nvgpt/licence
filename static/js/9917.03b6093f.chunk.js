"use strict";(self.webpackChunklicencenow=self.webpackChunklicencenow||[]).push([[9917],{98286:(s,e,i)=>{i.d(e,{A:()=>l});i(65043);const l=i.p+"static/media/calendor.613e1a8d18ee58be9e0495538c5cfe52.svg"},89764:(s,e,i)=>{i.d(e,{A:()=>l});i(65043);const l=i.p+"static/media/car.10a53caf71a20e3243aadf29a5ffed00.svg"},75684:(s,e,i)=>{i.d(e,{A:()=>l});i(65043);const l=i.p+"static/media/clock.47c071e06e9c56be10a8e704e7dd2f13.svg"},97844:(s,e,i)=>{i.d(e,{A:()=>l});i(65043);const l=i.p+"static/media/map.8e8b7dfa080e46c888eeeff1578fa5e6.svg"},99917:(s,e,i)=>{i.r(e),i.d(e,{default:()=>p});var l=i(65043),a=i(94745),n=i(63401),d=(i(92342),i(53519)),r=i(61072),o=i(78602),t=i(64196),c=i(81140),h=i(75684),v=i(89764),u=i(98286),m=i(97844),x=i(35475),_=i(46978),j=i(26917),g=i(8729),b=i(70579);const N=s=>s.includes("canceled")?"text-red":s.includes("COMPLETED")?"text-green":"text-secondary";function p(){var s,e,i,p,f,k,C,w;const{token:y,learnerBookData:A,setLearnerBookData:L,instructor:I,setLearnerCreditHours:E,setLearnerCreditAmount:S}=(0,g.A)(),[B,D]=(0,l.useState)(!1),[T,$]=(0,l.useState)({}),[P,O]=(0,l.useState)(),[H,R]=(0,l.useState)(),[M,W]=(0,l.useState)(),[F,U]=(0,l.useState)([]),[V,Y]=(0,l.useState)([]),[Z,G]=(0,l.useState)(null);(0,l.useEffect)((()=>{(async()=>{D(!0);try{const o=(0,_.f)(y),t=await o.get(j.A.LEARNER_DASHBOARD),c=await t.data;var s,e,i,l,a,n,d,r;if(c.success&&c.data)D(!1),$(null===(s=c.data)||void 0===s?void 0:s.your_instructor),O(null===(e=c.data)||void 0===e?void 0:e.purchase_lesson_hours),R(null===(i=c.data)||void 0===i?void 0:i.completed_hours),W(null===(l=c.data)||void 0===l?void 0:l.available_booking_credit),L({...A,bookWithTrainerID:null===(a=c.data)||void 0===a||null===(n=a.your_instructor)||void 0===n?void 0:n.id}),E((null===(d=c.data)||void 0===d?void 0:d.available_booking_credit)||0),S((null===(r=c.data)||void 0===r?void 0:r.total_credit_amt_left)||0);else console.error("Unexpected response format:",c)}catch(o){console.error("Error fetching pricing data:",o)}finally{D(!1)}})();(async()=>{D(!0);try{const s=(0,_.f)(y),e=await s.get(`${j.A.LEARNER_BOOKINGS}?status=history`),i=await e.data;i.success&&i.data&&(D(!1),U(i.data))}catch(s){}finally{D(!1)}})();(async()=>{D(!0);try{const s=(0,_.f)(y),e=await s.get(`${j.A.LEARNER_BOOKINGS}?status=upcoming`),i=await e.data;i.success&&i.data&&(D(!1),Y(i.data))}catch(s){}finally{D(!1)}})();(async()=>{try{const s=await(0,_.Vg)(j.A.TEST_PACKAGE);if(!s||!s.data)throw new Error("Invalid response format for testPackage data");const e=s.data[0];G({paragraph:e.listing,image:e.image})}catch(s){}})()}),[]);(0,l.useEffect)((()=>{(async()=>{try{var s;const[e,i]=await Promise.all([(0,_.Vg)(j.A.TEST_PACKAGE),(0,_.Vg)(j.A.STATES)]);null!==e&&void 0!==e&&null!==(s=e.data)&&void 0!==s&&s[0]&&L((s=>({...s,totalTestPackagePrice:e.data[0].price}))),null!==i&&void 0!==i&&i.data&&L((s=>({...s,allStaeList:i.data})))}catch(e){}})()}),[]);return(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"mainContent learnerDashboard",children:[(0,b.jsx)(a.A,{}),(0,b.jsx)("div",{className:"mainContent__assets",children:(0,b.jsx)(d.A,{children:(0,b.jsx)(r.A,{children:(0,b.jsxs)(o.A,{lg:12,children:[(0,b.jsxs)("div",{className:"notification",children:[(0,b.jsxs)("div",{className:"notification__card success",children:[(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"12",viewBox:"0 0 14 12",fill:"none",children:(0,b.jsx)("path",{opacity:"0.6",d:"M11.9574 0L5.54258 8.28482L1.75 4.57232L0 6.28661L5.83242 12L14 1.71429L11.9574 0Z",fill:"#292929"})}),(0,b.jsx)("p",{children:"Your working with Children Check Cert. will expire in 24 days. Update your Personal Details in \u201cYour Documents\u201d"})]}),(0,b.jsxs)("div",{className:"notification__card info",children:[(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",children:(0,b.jsx)("path",{opacity:"0.6",d:"M12.6 0H1.4C0.63 0 0.00699999 0.63 0.00699999 1.4L0 14L2.8 11.2H12.6C13.37 11.2 14 10.57 14 9.8V1.4C14 0.63 13.37 0 12.6 0ZM10.5 8.4H3.5C3.115 8.4 2.8 8.085 2.8 7.7C2.8 7.315 3.115 7 3.5 7H10.5C10.885 7 11.2 7.315 11.2 7.7C11.2 8.085 10.885 8.4 10.5 8.4ZM10.5 6.3H3.5C3.115 6.3 2.8 5.985 2.8 5.6C2.8 5.215 3.115 4.9 3.5 4.9H10.5C10.885 4.9 11.2 5.215 11.2 5.6C11.2 5.985 10.885 6.3 10.5 6.3ZM10.5 4.2H3.5C3.115 4.2 2.8 3.885 2.8 3.5C2.8 3.115 3.115 2.8 3.5 2.8H10.5C10.885 2.8 11.2 3.115 11.2 3.5C11.2 3.885 10.885 4.2 10.5 4.2Z",fill:"#292929"})}),(0,b.jsx)("p",{children:"Your working with Children Check Cert. will expire in 24 days. Update your Personal Details in \u201cYour Documents\u201d"})]})]}),(0,b.jsx)("div",{className:"dashboard",children:(0,b.jsxs)("div",{className:"dashboard__learnerWrp",children:[(0,b.jsxs)("div",{className:"dashboard__learnerLeft",children:[(0,b.jsxs)("div",{className:"secIntro ",children:[(0,b.jsx)("div",{className:"secIntro__left",children:(0,b.jsx)("h2",{children:"Your Instructor"})}),(0,b.jsx)(x.N_,{className:"btn btn-teal",to:"/learner/search-trainer",children:"Book with a Different Instructor"})]}),null!==T&&void 0!==T&&T.id?(0,b.jsxs)("div",{className:"bookingCard",children:[(0,b.jsxs)("div",{className:"bookingCard__mid",children:[(0,b.jsxs)("div",{className:"profileCard__left",children:[(0,b.jsx)("img",{src:(null===T||void 0===T?void 0:T.profile_picture)||c,alt:""}),(0,b.jsx)("div",{className:"profileCard__leftName",children:(0,b.jsx)("p",{children:(0,b.jsx)(x.N_,{to:`/search/${null===T||void 0===T?void 0:T.id}`,children:"VIEW PROFILE "})})})]}),(0,b.jsxs)("div",{className:"bookingCard__instructorInfo",children:[(0,b.jsxs)("h2",{children:[null===T||void 0===T?void 0:T.first_name,"\xa0",null===T||void 0===T?void 0:T.last_name]}),(0,b.jsxs)("p",{children:[null===T||void 0===T?void 0:T.lessons_booked," Lesson",(null===T||void 0===T?void 0:T.lessons_booked.length)>1?"":"s"," Booked"]}),(0,b.jsxs)("p",{children:[null===T||void 0===T?void 0:T.completed_lessons," Completed Lessons"]})]}),(0,b.jsxs)("div",{className:"pdpWrapper__profileCarInfo",children:[(0,b.jsx)("img",{src:(null===T||void 0===T||null===(s=T.instructor_vehicle)||void 0===s?void 0:s.vehicle_image)||c,alt:""}),(0,b.jsxs)("p",{children:[null===T||void 0===T||null===(e=T.instructor_vehicle)||void 0===e?void 0:e.vehicle_name," ",null===T||void 0===T||null===(i=T.instructor_vehicle)||void 0===i?void 0:i.vehicle_model," ",null===T||void 0===T||null===(p=T.instructor_vehicle)||void 0===p?void 0:p.vehicle_year," (",(null===T||void 0===T||null===(f=T.instructor_vehicle)||void 0===f?void 0:f.transmission_type)||(null===T||void 0===T||null===(k=T.your_instructor)||void 0===k?void 0:k.transmission_name),")"]}),(0,b.jsxs)("span",{className:"pdpWrapper__profileCarInfo__ncaprating",children:[(0,b.jsx)("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,b.jsx)("path",{d:"M5 8.3747L7.42493 9.90932C7.86901 10.1906 8.41243 9.77481 8.29556 9.24901L7.65281 6.36318L9.79727 4.41892C10.1888 4.0643 9.9784 3.39176 9.4642 3.34896L6.64194 3.09829L5.53757 0.371428C5.33891 -0.123809 4.66109 -0.123809 4.46243 0.371428L3.35806 3.09217L0.535797 3.34285C0.021595 3.38565 -0.18876 4.05819 0.202734 4.4128L2.34719 6.35707L1.70444 9.24289C1.58757 9.7687 2.13099 10.1845 2.57507 9.90321L5 8.3747Z",fill:"#FFD53E"})}),"\xa0",(null===T||void 0===T||null===(C=T.instructor_vehicle)||void 0===C?void 0:C.ancap_rating)||0,"-star ANCAP rating"]}),(0,b.jsx)("span",{className:"pdpWrapper__profileCarInfo__carno",children:null===T||void 0===T||null===(w=T.instructor_vehicle)||void 0===w?void 0:w.vehicle_no})]})]}),(0,b.jsx)("div",{className:"bookingCard__bottom",children:(0,b.jsxs)(x.N_,{className:"btn btn-teal",to:"/learner/make-another-booking",state:{id:null===T||void 0===T?void 0:T.id},children:["Make a new booking"," "]})})]}):(0,b.jsx)(b.Fragment,{children:(0,b.jsx)("p",{children:"No Instructor Booked yet"})})]}),(0,b.jsx)("div",{className:"dashboard__learnerRight",children:(0,b.jsxs)("div",{className:"bookingCard",children:[(0,b.jsx)("div",{className:"bookingCard__top justify-content-center ",children:(0,b.jsx)("h3",{children:"Book a Driving Test "})}),(0,b.jsx)("div",{className:"bookingCard__mid",children:(0,b.jsxs)("div",{className:"bookNow__drivingLessonsListing d-flex",children:[(0,b.jsx)("img",{src:(null===Z||void 0===Z?void 0:Z.image)||c,alt:""}),(0,b.jsx)("div",{className:"",dangerouslySetInnerHTML:{__html:(null===Z||void 0===Z?void 0:Z.paragraph)||"Loading data..."}})]})}),(0,b.jsx)("div",{className:"bookingCard__bottom",children:(0,b.jsxs)(x.N_,{className:"btn btn-blue",to:"/learner/dashboard",onClick:()=>{n.oR.error("You don't have Driving package")},state:{bookTest:!0},children:[" Book a Test Package"," "]})})]})})]})}),(0,b.jsxs)("div",{className:"bookingPurchaseHistory",children:[(0,b.jsxs)("div",{className:"upcomingBooking bookingPurchaseHistory__upcomingBooking",children:[(0,b.jsx)("div",{className:"secIntro ",children:(0,b.jsx)("div",{className:"secIntro__left",children:(0,b.jsx)("h2",{children:"Upcoming Bookings"})})}),V.length>0?null===V||void 0===V?void 0:V.map(((s,e)=>{var i,l,a,n,d,r,o,t,_;return(0,b.jsxs)("div",{className:"bookingCard",children:[(0,b.jsxs)("div",{className:"bookingCard__top",children:[(0,b.jsxs)("h4",{children:["Booking ",s.bookingNumber," "]}),(0,b.jsx)("div",{className:"badge "+("confirmed"==s.booking_status?"green":"grey"),children:"confirmed"==s.booking_status?"CONFIRMED":"AWAITING CONFIRMATION"})]}),(0,b.jsxs)("div",{className:"bookingCard__mid",children:[(0,b.jsx)("div",{className:"bookingCard__profileWrp",children:(0,b.jsxs)("div",{className:"bookingCard__profile",children:[(0,b.jsx)("div",{className:"bookingCard__profileImg",children:(0,b.jsx)("img",{src:(null===s||void 0===s||null===(i=s.instructor)||void 0===i?void 0:i.profile_picture)||c,alt:""})}),(0,b.jsxs)("div",{className:"bookingCard__profileInfo",children:[(0,b.jsx)("div",{className:"bookingCard__highlightedText",children:(0,b.jsx)("span",{children:(0,b.jsx)(x.N_,{to:`/search/${s.instructor_id}`,children:"INSTRUCTOR DETAILS"})})}),(0,b.jsxs)("strong",{children:[null===s||void 0===s||null===(l=s.instructor)||void 0===l?void 0:l.first_name," ",null===s||void 0===s||null===(a=s.instructor)||void 0===a?void 0:a.last_name]}),(0,b.jsx)("a",{href:`tel:${null===s||void 0===s||null===(n=s.instructor)||void 0===n?void 0:n.contact_no}`,children:null===s||void 0===s||null===(d=s.instructor)||void 0===d?void 0:d.contact_no})]})]})}),(0,b.jsxs)("div",{className:"bookingCard__lessonWrp",children:[(0,b.jsx)("div",{className:"bookingCard__highlightedText",children:(0,b.jsx)("span",{children:"LESSON DETAILS"})}),(0,b.jsxs)("div",{className:"bookingCard__lessonDetails",children:[(0,b.jsx)("img",{src:h.A,alt:""}),null===s||void 0===s||null===(r=s.lesson_details)||void 0===r?void 0:r.lesson_date]}),(0,b.jsxs)("div",{className:"bookingCard__lessonDetails background-grey",children:[(0,b.jsx)("img",{src:v.A,alt:""}),(0,b.jsx)("span",{children:null===s||void 0===s||null===(o=s.lesson_details)||void 0===o?void 0:o.duration_transmission})]}),(0,b.jsxs)("div",{className:"bookingCard__lessonDetails",children:[(0,b.jsx)("img",{src:u.A,alt:""}),null===s||void 0===s||null===(t=s.lesson_details)||void 0===t?void 0:t.lesson_time]}),(0,b.jsxs)("div",{className:"bookingCard__lessonDetails",children:[(0,b.jsx)("img",{src:m.A,alt:""}),null===s||void 0===s||null===(_=s.learners)||void 0===_?void 0:_.address]})]})]}),(0,b.jsx)("div",{className:"bookingCard__bottom",children:(0,b.jsx)(x.N_,{to:"/learner/reschedule-booking",state:{id:s.id},className:"btn btn-blue",children:"Manage/View Booking >"})})]},e)})):(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("div",{className:"bookingCard",children:[(0,b.jsx)("div",{className:"bookingCard__mid",style:{display:"block",textAlign:"center"},children:(0,b.jsx)("p",{children:"No lesson booked "})}),(0,b.jsx)("div",{className:"bookingCard__bottom",children:(0,b.jsx)("a",{className:"btn btn-blue",href:"/",children:"BOOK A LESSON NOW >"})})]})})]}),(0,b.jsxs)("div",{className:"bookingPurchaseHistory__card dashboard__right mt-5",children:[(0,b.jsx)("div",{className:"dashboard__topTitle",children:(0,b.jsx)("h2",{children:"Booking & Purchase History"})}),(0,b.jsxs)("div",{className:"dashboard__bottom",children:[(0,b.jsxs)("div",{className:"dashboard__item",children:[(0,b.jsxs)("div",{className:"d-flex justify-content-center align-items-end gap-2 mb-2",children:[(0,b.jsx)("h2",{children:P}),(0,b.jsx)("h4",{className:"mb-0",children:"hrs "})]}),(0,b.jsx)("p",{children:"Purchased lesson hrs"})]}),(0,b.jsxs)("div",{className:"dashboard__item",children:[(0,b.jsxs)("div",{className:"d-flex justify-content-center align-items-end gap-2 mb-2",children:[(0,b.jsx)("h2",{children:H}),(0,b.jsx)("h4",{className:"mb-0",children:"hrs "})]}),(0,b.jsx)("p",{children:"Booked / Completed"})]}),(0,b.jsxs)("div",{className:"dashboard__item",children:[(0,b.jsxs)("div",{className:"d-flex justify-content-center align-items-end gap-2 mb-2",children:[(0,b.jsx)("h2",{children:M}),(0,b.jsx)("h4",{className:"mb-0",children:"hrs "})]}),(0,b.jsx)("p",{children:"Available booking credit"})]})]})]})]}),(0,b.jsxs)("div",{className:"accordians mt-5",children:[(0,b.jsx)("div",{className:"secIntro ",children:(0,b.jsx)("div",{className:"secIntro__left",children:(0,b.jsx)("h2",{children:"Previous Bookings"})})}),(0,b.jsx)("div",{className:"accordians__card",children:(0,b.jsxs)("div",{className:"accordians__description",children:[(0,b.jsxs)(t.A,{children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{children:"Booking"}),(0,b.jsx)("th",{children:"Learner"}),(0,b.jsx)("th",{children:"Date"}),(0,b.jsx)("th",{children:"Time"}),(0,b.jsx)("th",{children:"Location"}),(0,b.jsx)("th",{children:"Status"})]})}),(0,b.jsx)("tbody",{children:F.length>0?null===F||void 0===F?void 0:F.map(((s,e)=>{var i,l,a,n,d,r,o,t,h;return(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:s.bookingNumber}),(0,b.jsxs)("td",{children:[(0,b.jsx)("img",{src:(null===s||void 0===s||null===(i=s.learners)||void 0===i?void 0:i.profile_picture)||c,alt:"profile",className:"rounded-circle mr-2"})," ",(0,b.jsx)("span",{className:"str-reduce",children:1===(null===s||void 0===s||null===(l=s.learners)||void 0===l?void 0:l.myself)?`${null===s||void 0===s||null===(a=s.learners)||void 0===a?void 0:a.first_name} ${null===s||void 0===s||null===(n=s.learners)||void 0===n?void 0:n.last_name}`:`${null===s||void 0===s||null===(d=s.learners)||void 0===d?void 0:d.learner_first_name} ${null===s||void 0===s||null===(r=s.learners)||void 0===r?void 0:r.learner_last_name}`})]}),(0,b.jsx)("td",{children:null===s||void 0===s||null===(o=s.lesson_details)||void 0===o?void 0:o.lesson_date}),(0,b.jsx)("td",{children:null===s||void 0===s||null===(t=s.lesson_details)||void 0===t?void 0:t.lesson_time}),(0,b.jsx)("td",{children:null===s||void 0===s||null===(h=s.learners)||void 0===h?void 0:h.address}),(0,b.jsx)("td",{className:`font-weight-bold ${N(null===s||void 0===s?void 0:s.booking_status)}`,children:(0,b.jsxs)("div",{className:"d-flex align-items-center",children:[(0,b.jsx)("div",{className:"statusIco"}),s.booking_status]})})]},e)})):(0,b.jsx)(b.Fragment,{children:(0,b.jsx)("tr",{children:(0,b.jsx)("td",{children:"No booking available"})})})})]}),(0,b.jsxs)("div",{className:"pagination-container text-center d-none",children:[(0,b.jsx)("button",{className:"btn btn-light",children:"<"}),(0,b.jsx)("span",{className:"mx-3",children:"1"}),(0,b.jsx)("button",{className:"btn btn-light",children:">"})]})]})})]})]})})})})]}),(0,b.jsx)(n.N9,{})]})}},64196:(s,e,i)=>{i.d(e,{A:()=>o});var l=i(98139),a=i.n(l),n=i(65043),d=i(67852),r=i(70579);const o=n.forwardRef(((s,e)=>{let{bsPrefix:i,className:l,striped:n,bordered:o,borderless:t,hover:c,size:h,variant:v,responsive:u,...m}=s;const x=(0,d.oU)(i,"table"),_=a()(l,x,v&&`${x}-${v}`,h&&`${x}-${h}`,n&&`${x}-${"string"===typeof n?`striped-${n}`:"striped"}`,o&&`${x}-bordered`,t&&`${x}-borderless`,c&&`${x}-hover`),j=(0,r.jsx)("table",{...m,className:_,ref:e});if(u){let s=`${x}-responsive`;return"string"===typeof u&&(s=`${s}-${u}`),(0,r.jsx)("div",{className:s,children:j})}return j}))}}]);
//# sourceMappingURL=9917.03b6093f.chunk.js.map
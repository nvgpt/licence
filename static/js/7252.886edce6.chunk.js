"use strict";(self.webpackChunklicencenow=self.webpackChunklicencenow||[]).push([[7252],{98286:(e,s,i)=>{i.d(s,{A:()=>l});i(65043);const l=i.p+"static/media/calendor.613e1a8d18ee58be9e0495538c5cfe52.svg"},89764:(e,s,i)=>{i.d(s,{A:()=>l});i(65043);const l=i.p+"static/media/car.10a53caf71a20e3243aadf29a5ffed00.svg"},75684:(e,s,i)=>{i.d(s,{A:()=>l});i(65043);const l=i.p+"static/media/clock.47c071e06e9c56be10a8e704e7dd2f13.svg"},97844:(e,s,i)=>{i.d(s,{A:()=>l});i(65043);const l=i.p+"static/media/map.8e8b7dfa080e46c888eeeff1578fa5e6.svg"},67252:(e,s,i)=>{i.r(s),i.d(s,{default:()=>k});var l=i(65043),n=i(5934),r=i(35475),a=i(53519),d=i(61072),o=i(78602),t=i(64196),c=i(63401),h=(i(92342),i(50986)),v=i(94274),x=i(75684),m=i(89764),_=i(98286),j=i(97844),u=i(83351),g=i(73216),p=i(46978),N=i(26917),f=i(8729),b=i(70579);function k(){const{id:e}=(0,g.g)(),[s,i]=(0,l.useState)(null),[k,C]=(0,l.useState)(null),[A,w]=(0,l.useState)(null),[L,$]=(0,l.useState)(null),[y,I]=(0,l.useState)(!1),[D,S]=(0,l.useState)(null),{token:R}=(0,f.A)(),[E,H]=(0,l.useState)(!1),[V,B]=(0,l.useState)();(0,l.useEffect)((()=>{(async()=>{I(!0);try{const s=(0,p.f)(R),l=await s.get(`${N.A.LEARNER_PROFILE}/${e}`),n=await l.data;n.success&&n.data?(I(!1),i(n.data.learner),S(n.data.remaining_credits),w(n.data.upcoming_bookings),$(n.data.booking_history),C(n.data.your_notes.note)):console.error("Unexpected response format:",n)}catch(s){I(!1),console.error("Error fetching learner detail:",s)}finally{I(!1)}})()}),[e,R]);return(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"mainContent",children:[(0,b.jsx)(n.A,{}),(0,b.jsx)("div",{className:"mainContent__assets",children:(0,b.jsx)(a.A,{children:(0,b.jsx)(d.A,{children:(0,b.jsx)(o.A,{lg:12,children:(0,b.jsxs)("div",{className:"learnerProfile",children:[(0,b.jsxs)("div",{className:"learnerProfile__left",children:[(0,b.jsx)("h2",{children:"Learner Profile"}),(0,b.jsxs)("div",{className:"learnerList__card personalDetailsForm__wrp ",children:[1==(null===s||void 0===s?void 0:s.myself)?(0,b.jsx)("div",{className:"learnerList__cardLeft",children:(0,b.jsxs)("div",{className:"learnerList__profileCard",children:[(0,b.jsx)("div",{className:"learnerList__profileImg",children:(0,b.jsx)("img",{src:(null===s||void 0===s?void 0:s.profile_picture)||h.A,alt:""})}),(0,b.jsxs)("div",{className:"learnerList__profileDetails",children:[(0,b.jsxs)("div",{className:"learnerList__profileCate",children:[(0,b.jsx)("img",{src:v.A,alt:""}),"Learner"]}),(0,b.jsxs)("h3",{children:[null===s||void 0===s?void 0:s.first_name," ",null===s||void 0===s?void 0:s.last_name]}),(0,b.jsxs)("a",{href:`tel:${null===s||void 0===s?void 0:s.phone_no}`,children:[" ",(0,b.jsx)("img",{src:u,alt:""})," ",null===s||void 0===s?void 0:s.phone_no]}),(0,b.jsxs)("span",{children:["Age ",null===s||void 0===s?void 0:s.age]})]})]})}):(0,b.jsxs)("div",{className:"learnerList__cardLeft",children:[(0,b.jsxs)("div",{className:"learnerList__profileCard",children:[(0,b.jsx)("div",{className:"learnerList__profileImg",children:(0,b.jsx)("img",{src:(null===s||void 0===s?void 0:s.profile_picture)||h.A,alt:""})}),(0,b.jsxs)("div",{className:"learnerList__profileDetails",children:[(0,b.jsxs)("div",{className:"learnerList__profileCate",children:[(0,b.jsx)("img",{src:v.A,alt:""}),"Learner"]}),(0,b.jsxs)("h3",{children:[null===s||void 0===s?void 0:s.learner_first_name," ",null===s||void 0===s?void 0:s.learner_last_name]}),(0,b.jsxs)("a",{href:`tel:${null===s||void 0===s?void 0:s.learner_phone_no}`,children:[" ",(0,b.jsx)("img",{src:u,alt:""})," ",null===s||void 0===s?void 0:s.learner_phone_no]}),(0,b.jsxs)("span",{children:["Age ",null===s||void 0===s?void 0:s.age]})]})]}),(0,b.jsx)("div",{className:"learnerList__profileCard",children:(0,b.jsxs)("div",{className:"learnerList__profileDetails",children:[(0,b.jsxs)("div",{className:"learnerList__profileCate",children:[(0,b.jsx)("img",{src:v.A,alt:""}),null===s||void 0===s?void 0:s.relation_name]}),(0,b.jsxs)("h3",{children:[null===s||void 0===s?void 0:s.first_name," ",null===s||void 0===s?void 0:s.last_name]}),(0,b.jsxs)("a",{href:`tel:${null===s||void 0===s?void 0:s.phone_no}`,children:[" ",(0,b.jsx)("img",{src:u,alt:""})," ",null===s||void 0===s?void 0:s.phone_no]})]})})]}),(0,b.jsx)("div",{className:"learnerList__cardRight",children:(0,b.jsx)("div",{className:"learnerList__cardButtons",children:(0,b.jsxs)("button",{className:"btn btn-teal",onClick:()=>{c.oR.error("Can't Perform this action")},children:[(0,b.jsx)("svg",{width:"14",height:"13",viewBox:"0 0 14 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,b.jsx)("path",{d:"M1.55556 13C1.12778 13 0.761704 12.8637 0.457333 12.5912C0.152963 12.3187 0.000518518 11.9906 0 11.6071V2.78571C0 2.40268 0.152444 2.07489 0.457333 1.80236C0.762222 1.52982 1.1283 1.39332 1.55556 1.39286H2.33333V0H3.88889V1.39286H10.1111V0H11.6667V1.39286H12.4444C12.8722 1.39286 13.2386 1.52936 13.5434 1.80236C13.8483 2.07536 14.0005 2.40314 14 2.78571V11.6071C14 11.9902 13.8478 12.3182 13.5434 12.5912C13.2391 12.8642 12.8727 13.0005 12.4444 13H1.55556ZM1.55556 11.6071H12.4444V5.57143H1.55556V11.6071ZM1.55556 4.17857H12.4444V2.78571H1.55556V4.17857Z",fill:"white"})}),"PROPOSE BOOKING"]})})})]}),(0,b.jsx)("div",{className:"personalDetailsForm__wrp",children:(0,b.jsxs)("div",{className:"secIntro mb-0",children:[(0,b.jsx)("div",{className:"secIntro__left",children:(0,b.jsx)("h4",{children:"Remaining Credits"})}),(0,b.jsx)("div",{className:"secIntro__right",children:(0,b.jsx)("h4",{children:D})})]})}),(0,b.jsxs)("div",{className:"personalDetailsForm__wrp",children:[(0,b.jsxs)("div",{className:"secIntro",children:[(0,b.jsx)("div",{className:"secIntro__left",children:(0,b.jsx)("h4",{children:"Your Notes"})}),(0,b.jsx)("div",{className:"secIntro__right"})]}),(0,b.jsxs)("div",{className:"learnerProfile__writeNote",children:[k||(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("p",{children:["Write your first note about ",1==(null===s||void 0===s?void 0:s.myself)?`${null===s||void 0===s?void 0:s.first_name} ${null===s||void 0===s?void 0:s.last_name}`:`${null===s||void 0===s?void 0:s.learner_first_name} ${null===s||void 0===s?void 0:s.llearner_last_name}`,(0,b.jsx)("span",{children:"(Only you can see these notes)"})," "]})}),(0,b.jsx)("div",{className:"learnerList__cardRight",children:(0,b.jsx)("div",{className:"learnerList__cardButtons mt-4",children:(0,b.jsxs)("button",{className:"btn btn-grey",onClick:()=>H(!0),children:[(0,b.jsxs)("svg",{width:"11",height:"10",viewBox:"0 0 11 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,b.jsx)("path",{d:"M1 9.5H2.92851L10 2.42851L8.07127 0.5L1 7.57149V9.5Z",stroke:"white","stroke-linejoin":"round"}),(0,b.jsx)("path",{d:"M6.14282 2.4285L8.07133 4.357",stroke:"white","stroke-linecap":"round","stroke-linejoin":"round"})]}),"WRITE A NOTE"]})})})]})]})]}),(0,b.jsxs)("div",{className:"learnerProfile__right",children:[(0,b.jsxs)("div",{className:"upcomingBooking",children:[(0,b.jsx)("div",{className:"secIntro ",children:(0,b.jsx)("div",{className:"secIntro__left",children:(0,b.jsx)("h4",{children:"Upcoming Bookings"})})}),(null===A||void 0===A?void 0:A.length)>0?null===A||void 0===A?void 0:A.slice(0,1).map(((e,s)=>{var i,l,n,a;return(0,b.jsxs)("div",{className:"bookingCard",children:[(0,b.jsxs)("div",{className:"bookingCard__mid",children:[(0,b.jsx)("div",{className:"bookingCard__profileWrp",children:(0,b.jsx)("div",{className:"bookingCard__profile",children:(0,b.jsx)("div",{className:"bookingCard__profileInfo",children:(0,b.jsx)("div",{className:"bookingCard__highlightedText",children:(0,b.jsxs)("strong",{children:["Booking ",e.bookingNumber," "]})})})})}),(0,b.jsxs)("div",{className:"bookingCard__lessonWrp",children:[(0,b.jsx)("div",{className:"bookingCard__highlightedText",children:(0,b.jsx)("span",{children:"LESSON DETAILS"})}),(0,b.jsxs)("div",{className:"bookingCard__lessonDetails",children:[(0,b.jsx)("img",{src:x.A,alt:""}),null===e||void 0===e||null===(i=e.lesson_details)||void 0===i?void 0:i.lesson_date]}),(0,b.jsxs)("div",{className:"bookingCard__lessonDetails",children:[(0,b.jsx)("img",{src:m.A,alt:""}),null===e||void 0===e||null===(l=e.lesson_details)||void 0===l?void 0:l.duration_transmission]}),(0,b.jsxs)("div",{className:"bookingCard__lessonDetails",children:[(0,b.jsx)("img",{src:_.A,alt:""}),null===e||void 0===e||null===(n=e.lesson_details)||void 0===n?void 0:n.lesson_time]}),(0,b.jsxs)("div",{className:"bookingCard__lessonDetails",children:[(0,b.jsx)("img",{src:j.A,alt:""}),null===e||void 0===e||null===(a=e.learners)||void 0===a?void 0:a.address]})]})]}),(0,b.jsx)("div",{className:"bookingCard__bottom",children:(0,b.jsx)(r.N_,{className:"btn btn-blue",onClick:()=>{c.oR.error("Can't Perform this action")},children:"Manage/View Booking "})})]},s)})):"No upcoming bookings"]}),(0,b.jsxs)("div",{className:"accordians",children:[(0,b.jsx)("div",{className:"secIntro mb-0",children:(0,b.jsx)("div",{className:"secIntro__left",children:(0,b.jsx)("h4",{children:"Booking History"})})}),(0,b.jsx)("div",{className:"accordians__card",children:(0,b.jsxs)("div",{className:"accordians__description",children:[(0,b.jsxs)(t.A,{children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{children:"Booking"}),(0,b.jsx)("th",{colSpan:3,children:"Details"})]})}),(0,b.jsx)("tbody",{children:(null===L||void 0===L?void 0:L.length)>0?null===L||void 0===L?void 0:L.slice(0,4).map(((e,s)=>{var i,l,n,r;return(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:e.bookingNumber}),(0,b.jsxs)("td",{colSpan:2,children:[null===e||void 0===e||null===(i=e.lesson_details)||void 0===i?void 0:i.lesson_date,", ",null===e||void 0===e||null===(l=e.lesson_details)||void 0===l?void 0:l.lesson_time,(0,b.jsx)("p",{children:null===e||void 0===e||null===(n=e.learners)||void 0===n?void 0:n.address})]}),(0,b.jsx)("td",{className:"font-weight-bold "+(r=null===e||void 0===e?void 0:e.booking_status,r.includes("canceled")?"text-red":r.includes("confirmed")?"text-green":"text-secondary"),children:(0,b.jsxs)("div",{className:"d-flex align-items-center",children:[(0,b.jsx)("div",{className:"statusIco"}),e.booking_status]})})]},s)})):(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:2,children:(0,b.jsx)("div",{style:{textAlign:"center"},children:"No booking history"})})})})]}),(0,b.jsxs)("div",{className:"pagination-container text-center d-none",children:[(0,b.jsx)("button",{className:"btn btn-light",children:"<"}),(0,b.jsx)("span",{className:"mx-3",children:"1"}),(0,b.jsx)("button",{className:"btn btn-light",children:">"})]})]})})]})]})]})})})})})]}),E&&(0,b.jsx)("div",{className:"popup",children:(0,b.jsx)(a.A,{children:(0,b.jsx)(d.A,{children:(0,b.jsx)(o.A,{lg:12,children:(0,b.jsxs)("div",{className:"popup__wrp personalDetailsForm__wrp",children:[(0,b.jsxs)("div",{className:"personalDetailsForm__top text-center position-relative",children:[(0,b.jsx)("h4",{children:"Add a Note"}),(0,b.jsx)("button",{type:"button",className:"popup__close",onClick:()=>H(!1),children:"X"})]}),(0,b.jsxs)("div",{className:"personalDetailsForm__bottom",children:[(0,b.jsx)("div",{className:"RegistrationForm__field",children:(0,b.jsx)("textarea",{className:"form-control",placeholder:"Write your note here",value:V,onChange:e=>B(e.target.value)})}),(0,b.jsx)("div",{className:"d-flex justify-content-center ",children:(0,b.jsx)("button",{className:"btn btn-teal",onClick:async()=>{I(!0);try{const s=(0,p.f)(R),i=await s.post(`${N.A.ADD_NOTES}`,{learner_id:e,note:V}),l=await i.data;l.success&&l.data?(c.oR.success(`${l.message}`),H(!1),C(l.data.note),I(!1)):(console.error("Unexpected response format:",l),c.oR.error(`${l.message}`),H(!1),I(!1))}catch(s){I(!1),console.error("Error fetching learner detail:",s)}},disabled:y,children:y?"Adding note...":"Add"})})]})]})})})})}),(0,b.jsx)(c.N9,{})]})}},64196:(e,s,i)=>{i.d(s,{A:()=>o});var l=i(98139),n=i.n(l),r=i(65043),a=i(67852),d=i(70579);const o=r.forwardRef(((e,s)=>{let{bsPrefix:i,className:l,striped:r,bordered:o,borderless:t,hover:c,size:h,variant:v,responsive:x,...m}=e;const _=(0,a.oU)(i,"table"),j=n()(l,_,v&&`${_}-${v}`,h&&`${_}-${h}`,r&&`${_}-${"string"===typeof r?`striped-${r}`:"striped"}`,o&&`${_}-bordered`,t&&`${_}-borderless`,c&&`${_}-hover`),u=(0,d.jsx)("table",{...m,className:j,ref:s});if(x){let e=`${_}-responsive`;return"string"===typeof x&&(e=`${e}-${x}`),(0,d.jsx)("div",{className:e,children:u})}return u}))}}]);
//# sourceMappingURL=7252.886edce6.chunk.js.map
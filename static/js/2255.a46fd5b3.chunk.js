"use strict";(self.webpackChunklicencenow=self.webpackChunklicencenow||[]).push([[2255],{42002:(e,s,t)=>{t.d(s,{A:()=>a});t(65043);const a=t.p+"static/media/Automatic_transmission.28ad899a35f90937a0561ad6920213e1.svg"},47275:(e,s,t)=>{t.d(s,{A:()=>a});t(65043);const a=t.p+"static/media/manual_transmission.50a4b95bdca0a147105ae3a0be6f11ee.svg"},92255:(e,s,t)=>{t.r(s),t.d(s,{default:()=>b});var a=t(65043),r=t(73216),o=t(53519),i=t(61072),c=t(78602),l=t(63401),n=(t(92342),t(47275)),u=t(42002),d=t(46978),h=t(26917),g=t(8729),m=t(70579);const b=function(){var e;const[s,t]=(0,a.useState)(!0),[b,p]=(0,a.useState)(""),[x,f]=(0,a.useState)(""),[j,v]=(0,a.useState)([]),[S,C]=(0,a.useState)(!1),[y,N]=(0,a.useState)(!1),[A,k]=(0,a.useState)(!0),[w,T]=(0,a.useState)(!1),P=(0,r.Zp)(),O=(0,r.zy)(),{filtersuburb:R,setFilterSuburb:_,setFilterState:B,setFilterPostcode:F,setFilterSuburbID:E,setSelectSearchValue:$,setFilterStateID:D}=(0,g.A)();(0,a.useEffect)((()=>{var e;null!==(e=O.state)&&void 0!==e&&e.searchTerm}),[null===(e=O.state)||void 0===e?void 0:e.searchTerm]),(0,a.useEffect)((()=>{if(!w&&""!==b.trim()){const e=setTimeout((()=>{I(b)}),500);return()=>clearTimeout(e)}}),[b,w]);const I=async e=>{C(!0),N(!1);try{const s=await(0,d.$P)(h.A.FIND_SUBURBS,{filter:e});if(s.success&&s.data){const t=s.data.filter((s=>[s.suburb,s.stateCode,s.postcode.toString()].some((s=>s.toLowerCase().includes(e.toLowerCase())))));N(0===t.length),v(t)}else v([]),N(!0)}catch(s){console.error("Error fetching suggestions:",s),v([]),N(!0)}finally{C(!1)}};return(0,a.useEffect)((()=>{}),[b,y]),(0,m.jsx)("div",{children:(0,m.jsx)("div",{className:"mainContent learnerDashboard",children:(0,m.jsx)("div",{className:"mainContent__assets",children:(0,m.jsx)(o.A,{children:(0,m.jsx)(i.A,{children:(0,m.jsx)(c.A,{lg:12,children:(0,m.jsx)("div",{className:"dashboard",children:(0,m.jsxs)("form",{className:"SearchForm",onSubmit:async e=>{if(e.preventDefault(),!w)return void l.oR.error("Please select a location from suggestions",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0});const t={postcode:`${x}`,transmissionType:s?"auto":"manual",suburb:R};try{const e=await(0,d.$P)(h.A.INSTRUCTOR_LIST,t);l.oR.success("Search submitted successfully!",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),setTimeout((()=>{P("/learner/search-trainer-listing",{state:{searchTerm:b,searchResult:e.data,searchStatus:e.success}}),N(!1),p()}),1e3)}catch(a){console.error("Error submitting search:",a),l.oR.error("An error occurred while submitting your search.",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}},children:[(0,m.jsxs)("div",{className:"PageBanner__formWrpBottom",style:{backgroundColor:"#38496f",borderRadius:"20px"},children:[(0,m.jsxs)("div",{className:"toggle-switch",children:[(0,m.jsx)("input",{type:"checkbox",id:"toggle-switch",checked:s,onChange:()=>{t(!s),w&&(0,l.oR)("Please click on search button to change your selected Transmission type",{position:"top-right",autoClose:3e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}}),(0,m.jsxs)("label",{htmlFor:"toggle-switch",className:"slider",children:[(0,m.jsxs)("span",{className:"label-manual",children:[(0,m.jsx)("img",{src:n.A,alt:"Manual"})," Manual"]}),(0,m.jsxs)("span",{className:"label-auto",children:[(0,m.jsx)("img",{src:u.A,alt:"Auto"})," Automatic"]})]})]}),(0,m.jsxs)("div",{className:"inputWrp position-relative",children:[(0,m.jsx)("input",{type:"text",placeholder:"Enter your Suburb here...",value:b,onChange:e=>{const s=e.target.value;p(s),k(!0),T(!1),0==e.target.value.length&&(N(!1),C(!1),v([]))}}),(0,m.jsxs)("ul",{className:"suggestions-list",children:[S&&(0,m.jsx)("li",{children:"Loading..."}),y&&!S&&(0,m.jsxs)("li",{children:['No results found for "',b,'"']}),j.length>0&&!S&&j.map(((e,s)=>(0,m.jsx)("li",{onClick:()=>(e=>{p(`${e.suburb}, ${e.stateCode} (${e.postcode})`),f(e.postcode),T(!0),v([]),_(e.suburb),B(e.stateCode),F(e.postcode),E(e.id),D(e.state_id),$(!0)})(e),style:{cursor:"pointer"},children:(0,m.jsxs)("div",{children:[(0,m.jsx)("strong",{children:e.suburb}),", ",e.stateCode," ","(",e.postcode,")"]})},s)))]})]}),(0,m.jsx)("button",{type:"submit",className:"btn btn-white",disabled:!w,children:"Search"})]}),(0,m.jsx)(l.N9,{})]})})})})})})})})}}}]);
//# sourceMappingURL=2255.a46fd5b3.chunk.js.map
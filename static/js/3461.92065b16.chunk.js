"use strict";(self.webpackChunklicencenow=self.webpackChunklicencenow||[]).push([[3461],{5934:(e,s,l)=>{l.d(s,{A:()=>d});l(65043);var a=l(73216),i=l(35475),n=l(52943),r=l(70579);function d(){const e=(0,a.zy)().pathname.split("/").filter(Boolean);e[0];"learner-list-details"===e[1]&&e.length>2&&(e[1]="learner-list",e.pop());const s=e.filter((e=>"instructor"!==e)).map(((e,s)=>"dashboard"===e&&0===s?null:e)).filter(Boolean),l=s[s.length-2],d=s[s.length-1];return(0,r.jsx)("div",{className:"breadcrumb",children:(0,r.jsxs)("p",{children:[s.length>0&&(0,r.jsx)(i.N_,{to:"/instructor/dashboard",children:(0,r.jsx)("img",{src:n.A,alt:"Home"})}),l&&(0,r.jsxs)("span",{children:["> \xa0",(0,r.jsxs)(i.N_,{to:`/instructor/${l}`,children:[l.replace(/-/g," ")," "]})]}),d&&(0,r.jsxs)("span",{children:["> \xa0",d.replace(/-/g," ")," "]})]})})}},83461:(e,s,l)=>{l.r(s),l.d(s,{default:()=>g});var a=l(65043),i=l(5934),n=l(53519),r=l(61072),d=l(78602),t=l(73216),o=l(35475),c=l(13892),m=l(80899),u=l(30064),h=l.n(u),b=l(86213),_=l(26917),x=l(8729),j=l(71505),v=l(70579);function g(){const{userData:e,token:s}=(0,x.A)(),[l,u]=(0,a.useState)(!1),[g,p]=(0,a.useState)(),[N,f]=(0,a.useState)(),[A,y]=(0,a.useState)(),[F,P]=(0,a.useState)(),[S,D]=(0,a.useState)(),B=(0,t.Zp)();(0,a.useEffect)((()=>{(async()=>{u(!0);try{const n=await b.A.get(`https://ready-set-driving-school.pwd.net.au${_.A.VIEW_BANKING_DETAILS}`,{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}});var e,l,a,i;if(n.data.success)u(!1),p(n.data.data),f(null===(e=n.data.data)||void 0===e?void 0:e.billing_address),y(null===(l=n.data.data)||void 0===l?void 0:l.state),P(null===(a=n.data.data)||void 0===a?void 0:a.suburb),D(null===(i=n.data.data)||void 0===i?void 0:i.postcode)}catch(n){}finally{u(!1)}})()}),[]);const k=m.Ik().shape({first_name:m.Yj().required("First Name is required"),last_name:m.Yj().required("Last Name is required"),businessName:m.Yj().required("Business Name is required"),abn:m.Yj().required("ABN is required"),gst_registration:m.Yj().required("GST registration is required")}),q=e=>{let{addressSuburb:s}=e;const{setFieldValue:l}=(0,c.j7)();return(0,a.useEffect)((()=>{s&&l("billing_address",s)}),[s,l]),null};return(0,v.jsxs)("div",{className:"mainContent",children:[(0,v.jsx)(i.A,{}),(0,v.jsx)("div",{className:"mainContent__assets",children:(0,v.jsx)(n.A,{children:(0,v.jsx)(r.A,{children:(0,v.jsx)(d.A,{lg:12,children:(0,v.jsxs)("div",{className:"personalDetailsForm",children:[(0,v.jsx)(o.N_,{onClick:()=>B(-1),children:"< Go back "}),(0,v.jsx)("h2",{children:"My Banking Details"}),(0,v.jsxs)("div",{className:"personalDetailsForm__wrp",children:[(0,v.jsx)("div",{className:"personalDetailsForm__top",children:(0,v.jsx)("h4",{children:"Account Holder Details"})}),(0,v.jsx)(c.l1,{enableReinitialize:!0,initialValues:{first_name:(null===g||void 0===g?void 0:g.first_name)||"",last_name:(null===g||void 0===g?void 0:g.last_name)||"",businessName:(null===g||void 0===g?void 0:g.business_name)||"",abn:(null===g||void 0===g?void 0:g.abn)||"",gst_registration:(null===g||void 0===g?void 0:g.bus_reg_gst)||"no",billing_address:(null===g||void 0===g?void 0:g.billing_address)||"",account_name:(null===g||void 0===g?void 0:g.account_name)||"",bsb:(null===g||void 0===g?void 0:g.bsb)||"",account_number:(null===g||void 0===g?void 0:g.account_number)||""},validationSchema:k,onSubmit:async(e,l)=>{let{setSubmitting:a}=l;u(!0);try{var i,n,r,d,t,o,c,m;const l={business_name:e.businessName,abn:e.abn,billing_address:`${null===(i=N[0])||void 0===i?void 0:i.long_name} ${null===(n=N[1])||void 0===n?void 0:n.long_name} ${null===(r=N[2])||void 0===r?void 0:r.short_name} ${null===(d=N[3])||void 0===d?void 0:d.long_name} ${null===(t=N[4])||void 0===t?void 0:t.long_name}`,suburb:(null===N||void 0===N?void 0:N.length)>0?null===(o=N[1])||void 0===o?void 0:o.long_name:F,postcode:(null===N||void 0===N?void 0:N.length)>0?null===(c=N[N.length-1])||void 0===c?void 0:c.long_name:S,state:(null===N||void 0===N?void 0:N.length)>0?null===(m=N[3])||void 0===m?void 0:m.long_name:A,account_name:e.account_name,bsb:e.bsb,account_number:e.account_number,bus_reg_gst:e.gst_registration};await b.A.post(`https://ready-set-driving-school.pwd.net.au${_.A.UPDATE_BANKING_DETAILS}`,l,{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}});h().fire("Success!","banking details has been updated.","success")}catch(x){console.error("Error updating details:",x),h().fire("Error!","An error occurred while updating details. Please try again.","error")}finally{u(!1),a(!1)}},children:e=>{var s,l,a;let{errors:i,touched:n}=e;return(0,v.jsxs)(c.lV,{className:"ProfileForm RegistrationForm",children:[(0,v.jsx)(q,{addressSuburb:N}),(0,v.jsx)("fieldset",{children:(0,v.jsxs)(r.A,{children:[(0,v.jsx)(d.A,{md:6,children:(0,v.jsxs)("div",{className:"ProfileForm__group",children:[(0,v.jsx)("label",{htmlFor:"first_name",children:"* First Name"}),(0,v.jsx)(c.D0,{type:"text",name:"first_name",id:"first_name",className:"form-control",disabled:!0})]})}),(0,v.jsx)(d.A,{md:6,children:(0,v.jsxs)("div",{className:"ProfileForm__group",children:[(0,v.jsx)("label",{htmlFor:"last_name",children:"* Last Name"}),(0,v.jsx)(c.D0,{type:"text",name:"last_name",id:"last_name",className:"form-control",disabled:!0})]})})]})}),(0,v.jsx)("div",{className:"personalDetailsForm__top",children:(0,v.jsx)("h4",{children:"Billing Info"})}),(0,v.jsxs)("fieldset",{children:[(0,v.jsxs)(r.A,{children:[(0,v.jsx)(d.A,{md:6,children:(0,v.jsxs)("div",{className:"ProfileForm__group",children:[(0,v.jsxs)("label",{htmlFor:"businessName",children:[" ","*Business Name"," "]}),(0,v.jsx)(c.D0,{type:"text",name:"businessName",id:"businessName",className:"form-control"}),i.businessName&&n.businessName&&(0,v.jsxs)("div",{className:"error",children:[" ",i.businessName," "]})]})}),(0,v.jsx)(d.A,{md:6,children:(0,v.jsxs)("div",{className:"ProfileForm__group",children:[(0,v.jsx)("label",{htmlFor:"abn",children:"*ABN"}),(0,v.jsx)(c.D0,{type:"text",name:"abn",id:"abn",className:"form-control"}),i.abn&&n.abn&&(0,v.jsx)("div",{className:"error",children:i.abn})]})})]}),(0,v.jsx)(r.A,{children:(0,v.jsxs)(d.A,{md:12,children:[(0,v.jsx)("label",{for:"businessName",children:"Is your business regsitered for GST?"}),(0,v.jsxs)("div",{className:"ProfileForm__group d-flex gap-3",children:[(0,v.jsxs)("div",{className:"ProfileForm__checkboxWrp",children:[(0,v.jsx)(c.D0,{type:"radio",name:"gst_registration",id:"gst_registration_yes",value:"yes"}),(0,v.jsx)("span",{}),(0,v.jsxs)("label",{htmlFor:"gst_registration_yes",children:[" ","Yes"," "]})]}),(0,v.jsxs)("div",{className:"ProfileForm__checkboxWrp",children:[(0,v.jsx)(c.D0,{type:"radio",name:"gst_registration",id:"gst_registration_no",value:"no"}),(0,v.jsx)("span",{}),(0,v.jsxs)("label",{htmlFor:"gst_registration_no",children:[" ","No"," "]})]})]})]})}),(0,v.jsx)(r.A,{children:(0,v.jsx)(d.A,{md:12,children:(0,v.jsxs)("div",{className:"ProfileForm__group",children:[(0,v.jsxs)("label",{htmlFor:"billing_address",children:[" ","* Billing Address"," "]}),(0,v.jsx)(j.A,{setAddressSuburb:f,billingAddrs:null===g||void 0===g?void 0:g.billing_address}),i.billing_address&&n.billing_address&&(0,v.jsxs)("div",{className:"error",children:[" ",i.billing_address]})]})})}),(0,v.jsxs)(r.A,{children:[(0,v.jsx)(d.A,{md:4,children:(0,v.jsxs)("div",{className:"ProfileForm__group",children:[(0,v.jsx)("label",{htmlFor:"suburb",children:"*Suburb"}),(0,v.jsx)("input",{type:"text",value:Array.isArray(N)?null===(s=N[1])||void 0===s?void 0:s.long_name:F,className:"form-control",disabled:!0})]})}),(0,v.jsx)(d.A,{md:4,children:(0,v.jsxs)("div",{className:"ProfileForm__group",children:[(0,v.jsx)("label",{htmlFor:"post_code",children:"*Postcode"}),(0,v.jsx)("input",{type:"text",value:Array.isArray(N)?null===(l=N[N.length-1])||void 0===l?void 0:l.long_name:S,className:"form-control",disabled:!0})]})}),(0,v.jsx)(d.A,{md:4,children:(0,v.jsxs)("div",{className:"ProfileForm__group",children:[(0,v.jsx)("label",{htmlFor:"state",children:"*State"}),(0,v.jsx)("input",{type:"text",value:Array.isArray(N)?null===(a=N[3])||void 0===a?void 0:a.long_name:A,className:"form-control",disabled:!0})]})})]})]}),(0,v.jsx)("div",{className:"personalDetailsForm__top",children:(0,v.jsx)("h4",{children:"Bank Account"})}),(0,v.jsxs)("fieldset",{children:[(0,v.jsxs)(r.A,{children:[(0,v.jsx)(d.A,{md:4,children:(0,v.jsxs)("div",{className:"ProfileForm__group",children:[(0,v.jsx)("label",{htmlFor:"abn",children:"Account Name"}),(0,v.jsx)(c.D0,{type:"text",name:"account_name",id:"account_name",className:"form-control",disabled:!0}),i.account_name&&n.account_name&&(0,v.jsx)("div",{className:"error",children:i.account_name})]})}),(0,v.jsx)(d.A,{md:4,children:(0,v.jsxs)("div",{className:"ProfileForm__group",children:[(0,v.jsx)("label",{htmlFor:"abn",children:"BSB"}),(0,v.jsx)(c.D0,{type:"text",name:"bsb",id:"bsb",className:"form-control",disabled:!0}),i.bsb&&n.bsb&&(0,v.jsx)("div",{className:"error",children:i.bsb})]})}),(0,v.jsx)(d.A,{md:4,children:(0,v.jsxs)("div",{className:"ProfileForm__group",children:[(0,v.jsx)("label",{htmlFor:"abn",children:"Account Number"}),(0,v.jsx)(c.D0,{type:"number",name:"account_number",id:"account_number",className:"form-control",disabled:!0}),i.account_number&&n.account_number&&(0,v.jsx)("div",{className:"error",children:i.account_number})]})})]}),(0,v.jsx)("div",{className:"ProfileForm__actions justify-content-end mt-2 p-0",children:(0,v.jsxs)("button",{type:"submit",className:"btn btn-teal",children:[" ","Save Changes"," "]})}),(0,v.jsx)(r.A,{children:(0,v.jsx)(d.A,{lg:12,children:(0,v.jsx)("div",{className:"disclaimer",children:(0,v.jsxs)("p",{children:["Please note that Bank Account details cannot be edited after susmission. Please"," ",(0,v.jsx)(o.N_,{children:"Contact"})," Us to request to change your details."]})})})})]})]})}})]})]})})})})})]})}}}]);
//# sourceMappingURL=3461.92065b16.chunk.js.map
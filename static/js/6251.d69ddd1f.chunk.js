"use strict";(self.webpackChunklicencenow=self.webpackChunklicencenow||[]).push([[6251],{16251:(e,s,r)=>{r.r(s),r.d(s,{default:()=>w});var a=r(65043),i=r(53519),t=r(61072),o=r(78602),n=r(33677),l=r(33975),c=r(73216),d=r(35475),m=r(46978),g=r(26917),u=r(30064),h=r.n(u),x=r(8729),p=r(13892),j=r(80899),f=r(70579);const w=function(){const{setRole:e,setUserData:s,setToken:r}=(0,x.A)(),u=(0,c.Zp)(),[w,N]=a.useState(!1),[v,T]=(0,a.useState)(null);(0,a.useEffect)((()=>{sessionStorage.getItem("authToken")&&u("/instructor/dashboard")}),[u]);const b=j.Ik({email:j.Yj().email("Please enter a valid email address.").required("Email is required."),password:j.Yj().required("Password is required."),agreeToTerms:j.lc().oneOf([!0],"You must agree to the terms and conditions.").required("Agreement is required.")});return(0,f.jsx)(i.A,{children:(0,f.jsx)(t.A,{children:(0,f.jsx)(o.A,{lg:12,children:(0,f.jsxs)("div",{className:"LoginFormWrp d-flex",children:[(0,f.jsxs)("div",{className:"LoginFormWrp__left",children:[(0,f.jsx)("img",{src:n,alt:"Login Side"}),(0,f.jsx)("div",{className:"LoginFormWrp__logo",children:(0,f.jsx)("img",{src:l.A,alt:"logo"})})]}),(0,f.jsxs)("div",{className:"LoginFormWrp__right InstructorLogin__right",children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("h2",{children:"Instructor Login"}),(0,f.jsxs)("p",{children:["Want to become an Instructor with Us?",(0,f.jsx)(d.N_,{to:"/instructor-registration",children:" Register Now!"})]})]}),(0,f.jsx)(p.l1,{initialValues:{email:"",password:"",agreeToTerms:!1},validationSchema:b,onSubmit:async a=>{N(!0);const{email:i,password:t,agreeToTerms:o}=a;try{const a=await(0,m.$P)(g.A.INSTRUCTOR_LOGIN,{email:i,password:t});if(null===a||void 0===a||!a.success)throw new Error(a);sessionStorage.setItem("authToken",a.data.token),sessionStorage.setItem("userDetails",JSON.stringify(a.data.userDetails)),sessionStorage.setItem("role","trainer"),sessionStorage.setItem("profileImg",a.data.userDetails.profile_image),sessionStorage.setItem("profileName",a.data.userDetails.first_name),e("trainer"),r(a.data.token),s(a.data.userDetails),h().fire({icon:"success",title:"Welcome!",text:`Welcome, ${a.data.userDetails.first_name}!`,confirmButtonText:"Okay"}).then((()=>{u("/instructor/dashboard")}))}catch(v){const s=null===v||void 0===v?void 0:v.message;T(s),h().fire({icon:"error",title:"Login Failed",text:s,confirmButtonText:"Try Again"})}finally{N(!1)}},children:e=>{let{setFieldValue:s,isSubmitting:r}=e;return(0,f.jsxs)(p.lV,{className:"LoginFormWrp__form d-flex flex-column",children:[(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{htmlFor:"email",children:"* Your Email"}),(0,f.jsx)(p.D0,{type:"email",id:"email",name:"email",className:"form-control",placeholder:"Enter your email..."}),(0,f.jsx)(p.Kw,{name:"email",component:"div",className:"error-message"})]}),(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{htmlFor:"password",children:"* Your Password"}),(0,f.jsx)(p.D0,{type:"password",id:"password",name:"password",className:"form-control",placeholder:"Enter your password..."}),(0,f.jsx)(p.Kw,{name:"password",component:"div",className:"error-message"})]}),(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsxs)("label",{className:"d-flex align-items-start gap-2",children:[(0,f.jsx)(p.D0,{type:"checkbox",name:"agreeToTerms",id:"agreeToTerms"}),(0,f.jsx)("div",{className:"CheckboxHighlight"}),(0,f.jsxs)("p",{children:["I agree to the"," ",(0,f.jsx)(d.N_,{to:"/instructor-terms",children:"terms and conditions"})]})]}),(0,f.jsx)(p.Kw,{name:"agreeToTerms",component:"div",className:"error-message"})]}),(0,f.jsx)("div",{className:"d-flex flex-column gap-3 LoginFormWrp__btnWrp",children:(0,f.jsx)("button",{type:"submit",className:"btn btn-white has-hover-blue",disabled:r||w,style:{maxWidth:"100%",width:"100%"},children:w?"Logging in...":"Login >"})})]})}}),(0,f.jsxs)("div",{className:"",children:["Forgot Password?",(0,f.jsx)(d.N_,{to:"/instructor-forget-password",children:" click here.."})]})]})]})})})})}}}]);
//# sourceMappingURL=6251.d69ddd1f.chunk.js.map